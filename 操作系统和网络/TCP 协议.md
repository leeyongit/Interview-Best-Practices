# TCP 协议

> TCP是一种面向连接（连接导向）的、可靠的基于字节流的传输层通信协议。TCP将用户数据打包成报文段，它发送后启动一个定时器，另一端收到的数据进行确认、对失序的数据重新排序、丢弃重复数据。

TCP协议的特点：
1. 面向连接；
2. 每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的；
3. TCP提供可靠交付的服务；
4. TCP提供全双工通信。数据在两个方向上独立的进行传输。因此，连接的每一端必须保持每个方向上的传输数据序号；
5. 面向字节流。面向字节流的含义：虽然应用程序和TCP交互是一次一个数据块，但TCP把应用程序交下来的数据仅仅是一连串的无结构的字节流

## TCP 头部信息
指定通信的源端端口号、目的端端口号、管理TCP连接，控制两个方向的数据流

- TCP报文各个位置详解
    - 紧急URG：当URG=1时，表示报文段中有紧急数据，应尽快传送；
    - 同步比特SYN：在建立连接时用来同步的序号。SYN=1,ACK=0表示一个连接请求报文段。SYN=1，ACK=1表示同意建立连接。
    - 确认比特ACK：ACK = 1时代表这是一个确认的TCP包，取值0则不是确认包；
    - 推送比特PSH：当发送端PSH=1时，接收端尽快的交付给应用进程；
    - 终止比特FIN：FIN=1时，表明此报文段的发送端的数据已经发送完毕，并要求释放传输连接。