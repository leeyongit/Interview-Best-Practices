# Redis 面试题

## 1. 为什呢Redis是单线程的呢?
官方回答: 因为Redis是基于内存的,所以CPU不会是Redis的瓶颈,但是内存会是,而且多线程的实现比较麻烦,直接使用单线程更省事一点。因为Redis是直接操作内存的,而且是单线程的,避免了频繁的切换上下文,所以速度非常快。

## 2. 你的Redis怎么持久化的?
一般我们在生产上采用的持久化策略为:
* master关闭持久化
* slave开RDB即可，必要的时候AOF和RDB都开启
该策略能够适应绝大部分场景，绝大部分集群架构。

(1) master关闭持久化原因很简单，因为无论哪种持久化方式都会影响redis的性能，哪一种持久化都会造成CPU卡顿，影响对客户端请求的处理。为了保证读写最佳性能，将master的持久化关闭！

(2) slave开RDB即可，必要的时候AOF和RDB都开启首先，我先说明一下，我不推荐单开AOF的原因是，基于AOF的数据恢复太慢。 你要想，我们已经做了主从复制，数据已经实现备份，为什么slave还需要开持久化? 因为某一天可能因为某某工程，把机房的电线挖断了，就会导致master和slave机器同时关机。 那么这个时候，我们需要迅速恢复集群，而RDB文件文件小、恢复快，因此灾难恢复常用RDB文件。

[原文](https://zhuanlan.zhihu.com/p/68402040)