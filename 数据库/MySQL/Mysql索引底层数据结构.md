# Mysql索引底层数据结构

## Mysql的索引分析
MySQL官方对索引的定义为：索引（Index）是帮助MySQL高效获取数据的数据结构。索引的本质：索引是数据结构，而且是实现了高级查找算法的数据结构
索引一般以文件形式存储在磁盘上，索引检索需要磁盘I/O操作

## 索引的结构
* 二叉树
* 红黑树
* HASH
* BTREE

## 索引底层数据结构与算法
### Hash索引
如果是等值查询，哈希索引明显有绝对优势， 前提：键值唯一

哈希索引没办法完成范围查询检索
哈希索引也没办法利用索引完成排序，以及like ‘xxx%’ 这样的部分模糊查询
哈希索引也不支持多列联合索引的
在有大量重复键值情况下，哈希索引的效率也最左前缀原则是极低的，因为存在哈希碰撞问题

### B-Tree
* 度(Degree)-节点的数据存储个数
* 叶子节点具有相同的深度
* 叶子节点的指针为空
* 节点中的数据key从左到右递增排列

### B+Tree
* 非叶子节点不存储data，只存储key，可以增大度
* 叶子节点不存储指针
* 顺序访问指针，提高区间访问的性能

### MyISAM索引实现(非聚集)

MyISAM索引文件和数据文件是分离的

### InnoDB索引实现(聚集)

- 数据文件本身就是索引文件
- 表数据文件本身就是按B+Tree组成的一个索引结构文件
- 聚集索引-叶节点包含了完整的数据记录
- 为什么InnoDB表要求有主键，并且推荐使用整型的自增主键？
- 为什么非主键索引结构叶子节点存储的是主键值？(一致性和节省存储空间)


